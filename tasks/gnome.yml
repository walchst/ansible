---

- name: "Configure GNOME common settings"
  become_user: walchst
  become: true
  block:
   - name: "gnome gedit scheme"
     dconf: key="/org/gnome/gedit/preferences/editor/scheme" value="'cobalt'"

   - name: "gnome theme"
     dconf: key="/org/gnome/desktop/interface/gtk-theme" value="'Adwaita-dark'"

   - name: "gnome capslock as esc"
     dconf: key="/org/gnome/desktop/input-sources/xkb-options" value="['caps:escape_shifted_capslock']"

   - name: "gnome kb repeat interval"
     dconf: key="/org/gnome/desktop/peripherals/keyboard/repeat-interval" value="uint32 20"

   - name: "gnome kb repeat delay"
     dconf: key="/org/gnome/desktop/peripherals/keyboard/delay" value="uint32 300"

   - name: "gnome enable ctrl to locate pointer"
     dconf: key="/org/gnome/desktop/interface/locate-pointer" value="true"
  
   - name: "gnome enable show weekday"
     dconf: key="/org/gnome/desktop/interface/clock-show-weekday" value="true"

   - name: "gnome titlebar: minimise and close"
     dconf: key="/org/gnome/desktop/wm/preferences/button-layout" value="'appmenu:minimize,close'"

   - name: "gnome enable night light"
     dconf: key="/org/gnome/settings-daemon/plugins/color/night-light-enabled" value="true"

   - name: "gnome configure night light temp"
     dconf: key="/org/gnome/settings-daemon/plugins/color/night-light-temperature" value="uint32 3700"

   - name: "gnome show battery percentage"
     dconf: key="/org/gnome/desktop/interface/show-battery-percentage" value="true"

   - name: "gnome enable trackpad tap to click"
     dconf: key="/org/gnome/desktop/peripherals/touchpad/tap-to-click" value="true"

   - name: "gnome enable trackpad natural scroll"
     dconf: key="/org/gnome/desktop/peripherals/mouse/natural-scroll" value="true"

   - name: "gnome set wallpaper"
     dconf: key="/org/gnome/desktop/background/picture-uri" value="'file:///usr/share/backgrounds/gnome/ColdWarm.jpg'"

   - name: "gnome disble automatic brightness"
     dconf: key="/org/gnome/settings-daemon/plugins/power/ambient-enabled" value="false"
     when: ansible_product_name == "XPS 13 9300"

   - name: "gnome blank screen timeout"
     dconf: key="/org/gnome/desktop/session/idle-delay" value="uint32 600"
     when: ansible_product_name == "XPS 13 9300"
  
  # Changes pending
  #  - terminal shortcut T
  #  - close app shortcut Q
